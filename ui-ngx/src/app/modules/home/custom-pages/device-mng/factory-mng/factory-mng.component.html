<mat-drawer-container hasBackdrop="false" class="tb-absolute-fill">
  <mat-drawer
    class="tb-details-drawer mat-elevation-z4"
    #drawer
    mode="over"
    position="end"
    [opened]="isDetailsOpen">
  </mat-drawer>
  <mat-drawer-content>
    <div
      fxLayout="row"
      fxLayoutGap="16px"
      class="mat-padding tb-entity-table tb-absolute-fill"
    >
      <div fxLayout="column" class="mat-elevation-z1 tb-entity-table-content">
        <mat-toolbar class="mat-table-toolbar">
          <div class="mat-toolbar-tools">
            <div fxLayout="row" fxLayoutAlign="start center" fxLayout.xs="column" fxLayoutAlign.xs="center start" class="title-container">
              <span class="tb-entity-table-title">{{ 'device-mng.factory-mng' | translate }}</span>
            </div>
            <span fxFlex></span>
            <button
              mat-icon-button [disabled]="isLoading$ | async"
              (click)="addFactory()"
              matTooltip="{{ 'device-mng.add-factory' | translate }}"
              matTooltipPosition="above"
            >
              <mat-icon>add</mat-icon>
            </button>
          </div>
        </mat-toolbar>
        <div class="entity-filter-header">
          <mat-form-field *ngFor="let filter of filters">
            <mat-label>{{ filter.langKey | translate }}</mat-label>
            <input type="text" matInput [(ngModel)]="filterParams[filter.propName]" (keyup.enter)="fetchData()" />
            <button
              *ngIf="filterParams.name"
              matSuffix mat-icon-button aria-label="Clear"
              (click)="onClear(filter.propName)"
            >
              <mat-icon class="material-icons">close</mat-icon>
            </button>
          </mat-form-field>
          <div class="action-btns">
            <button mat-flat-button color="primary" (click)="fetchData()">
              {{ 'action.search' | translate }}
            </button>
          </div>
          <div class="action-btns">
            <button mat-button color="primary" (click)="fetchData()">
              {{ 'device-mng.batch-distribute' | translate }}
            </button>
          </div>
        </div>
        <div fxFlex class="table-container">
          <nz-table
            #compTable
            [nzData]="tableData"
            nzTableLayout="fixed"
            [nzShowPagination]="false"
            [nzNoResult]="'device-mng.no-factory-text' | translate"
            [nzScroll]="{ x: '100%', y: '100%' }"
          >
            <thead>
              <tr>
                <!-- <th nzWidth="200px" nzLeft>{{ 'device-mng.comp-name' | translate }}</th>
                <th nzWidth="150px">{{ 'device-mng.comp-type' | translate }}</th>
                <th nzWidth="250px">{{ 'device-mng.supplier' | translate }}</th>
                <th nzWidth="100px">{{ 'device-mng.model' | translate }}</th>
                <th nzWidth="150px">{{ 'device-mng.version' | translate }}</th>
                <th nzWidth="150px">{{ 'device-mng.guarantee' | translate }}</th>
                <th nzWidth="116px">{{ 'device-mng.comp-picture' | translate }}</th>
                <th nzWidth="150px" nzRight></th> -->
              </tr>
            </thead>
          </nz-table>
        </div>
      </div>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
